
[34mÎ” package.json[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m20[0m: [34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[38;5;236m    [38;5;24m"cors"[38;5;236m: [38;5;24m"^2.8.5"[38;5;236m,[0m
[38;5;236m    [38;5;24m"express"[38;5;236m: [38;5;24m"^4.19.2"[38;5;236m,[0m
[38;5;236m    [38;5;24m"html-minifier-terser"[38;5;236m: [38;5;24m"^7.2.0"[38;5;236m,[0m
[48;5;194;38;5;236m    [38;5;24m"kill-port"[38;5;236m: [38;5;24m"^2.0.1"[38;5;236m,[0m[48;5;194m[0K[0m
[38;5;236m    [38;5;24m"lightningcss"[38;5;236m: [38;5;24m"^1.30.1"[38;5;236m,[0m
[38;5;236m    [38;5;24m"open"[38;5;236m: [38;5;24m"^7.4.2"[38;5;236m,[0m
[38;5;236m    [38;5;24m"terser"[38;5;236m: [38;5;24m"^5.43.1"[0m

[34mÎ” socket_server/start_socket_servers.js[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m1[0m: [34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[48;5;224mrequire('./player_socket_server')[0m[48;5;224m[0K[0m
[48;5;224mrequire('./game_objects_socket_server')[0m[48;5;224m[0K[0m
[48;5;224mrequire('./rtc_video_call')[0m[48;5;224m[0K[0m
\ No newline at end of file
[48;5;194;38;5;31mrequire[38;5;236m([38;5;24m'./rtc_video_call'[38;5;236m)[0m[48;5;194m[0K[0m

[34mÎ” watch.js[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m1[0m: [34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[38;5;125mconst[38;5;236m [38;5;31mchokidar[38;5;236m [38;5;125m=[38;5;236m [38;5;31mrequire[38;5;236m([38;5;24m'chokidar'[38;5;236m)[0m
[48;5;224mconst { [48;5;217mexec[48;5;224m } = require('child_process')[0m[48;5;224m[0K[0m
[48;5;194;38;5;125mconst[38;5;236m { [48;5;157;38;5;31mexecSync[48;5;194;38;5;236m } [38;5;125m=[38;5;236m [38;5;31mrequire[38;5;236m([38;5;24m'child_process'[38;5;236m)[48;5;157m;[0m[48;5;194m[0K[0m
[38;5;125mconst[38;5;236m [38;5;31mexpress[38;5;236m [38;5;125m=[38;5;236m [38;5;31mrequire[38;5;236m([38;5;24m'express'[38;5;236m)[0m

[38;5;125mfunction[38;5;236m [38;5;97mrandomId[38;5;236m([38;5;16mlength[38;5;236m [38;5;125m=[38;5;236m [38;5;31m32[38;5;236m) {[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m14[0m:[38;5;236m [38;5;125mfunction[38;5;236m [38;5;97mrandomId[38;5;236m([38;5;16mlength[38;5;236m [38;5;125m=[38;5;236m [38;5;31m32[38;5;236m) { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m



[48;5;194;38;5;125mfunction[38;5;236m [38;5;97mkillPort[38;5;236m([38;5;16mport[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m  [38;5;125mtry[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m    [38;5;125mif[38;5;236m ([38;5;31mprocess[38;5;125m.[38;5;31mplatform[38;5;236m [38;5;125m===[38;5;236m [38;5;24m'win32'[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m      [38;5;125mconst[38;5;236m [38;5;31moutput[38;5;236m [38;5;125m=[38;5;236m [38;5;31mexecSync[38;5;236m([38;5;125m`[38;5;24mnetstat -ano | findstr :[38;5;125m${[38;5;31mport[38;5;125m}`[38;5;236m)[38;5;125m.[38;5;31mtoString[38;5;236m();[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m      [38;5;125mconst[38;5;236m [38;5;31mpids[38;5;236m [38;5;125m=[38;5;236m [[38;5;125m...[38;5;16moutput[38;5;125m.[38;5;31mmatchAll[38;5;236m([38;5;29m/[38;5;31m\s[38;5;125m+[38;5;29m([38;5;31m\d[38;5;125m+[38;5;29m)\r[38;5;125m?[38;5;29m\n[38;5;125m?[38;5;29m/[38;5;125mg[38;5;236m)][38;5;125m.[38;5;31mmap[38;5;236m([38;5;16mm[38;5;236m [38;5;125m=>[38;5;236m [38;5;31mm[38;5;236m[[38;5;31m1[38;5;236m]);[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m      [38;5;125mif[38;5;236m ([38;5;31mpids[38;5;125m.[38;5;16mlength[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mpids[38;5;125m.[38;5;31mforEach[38;5;236m([38;5;16mpid[38;5;236m [38;5;125m=>[38;5;236m [38;5;31mexecSync[38;5;236m([38;5;125m`[38;5;24mtaskkill /PID [38;5;125m${[38;5;31mpid[38;5;125m}[38;5;24m /F[38;5;125m`[38;5;236m));[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mconsole[38;5;125m.[38;5;31mlog[38;5;236m([38;5;125m`[38;5;24mKilled PIDs [38;5;125m${[38;5;31mpids[38;5;125m.[38;5;31mjoin[38;5;236m([38;5;24m', '[38;5;236m)[38;5;125m}[38;5;24m on port [38;5;125m${[38;5;31mport[38;5;125m}`[38;5;236m);[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m      } [38;5;125melse[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mconsole[38;5;125m.[38;5;31mlog[38;5;236m([38;5;125m`[38;5;24mNo process found on port [38;5;125m${[38;5;31mport[38;5;125m}`[38;5;236m);[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m      }[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m    } [38;5;125melse[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m      [38;5;246m// Use ss, which is almost always installed on Linux[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m      [38;5;125mlet[38;5;236m [38;5;31moutput[38;5;236m [38;5;125m=[38;5;236m [38;5;31mexecSync[38;5;236m([38;5;125m`[38;5;24mss -ltnp 'sport = :[38;5;125m${[38;5;31mport[38;5;125m}[38;5;24m' 2>/dev/null || true[38;5;125m`[38;5;236m)[38;5;125m.[38;5;31mtoString[38;5;236m()[38;5;125m.[38;5;31mtrim[38;5;236m();[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m      [38;5;125mconst[38;5;236m [38;5;31mpidMatches[38;5;236m [38;5;125m=[38;5;236m [[38;5;125m...[38;5;16moutput[38;5;125m.[38;5;31mmatchAll[38;5;236m([38;5;29m/pid=([38;5;31m\d[38;5;125m+[38;5;29m),/[38;5;125mg[38;5;236m)];[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m      [38;5;125mconst[38;5;236m [38;5;31mpids[38;5;236m [38;5;125m=[38;5;236m [38;5;31mpidMatches[38;5;125m.[38;5;31mmap[38;5;236m([38;5;16mm[38;5;236m [38;5;125m=>[38;5;236m [38;5;31mm[38;5;236m[[38;5;31m1[38;5;236m]);[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m      [38;5;125mif[38;5;236m ([38;5;31mpids[38;5;125m.[38;5;16mlength[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mpids[38;5;125m.[38;5;31mforEach[38;5;236m([38;5;16mpid[38;5;236m [38;5;125m=>[38;5;236m [38;5;31mexecSync[38;5;236m([38;5;125m`[38;5;24mkill -9 [38;5;125m${[38;5;31mpid[38;5;125m}`[38;5;236m));[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mconsole[38;5;125m.[38;5;31mlog[38;5;236m([38;5;125m`[38;5;24mKilled PIDs [38;5;125m${[38;5;31mpids[38;5;125m.[38;5;31mjoin[38;5;236m([38;5;24m', '[38;5;236m)[38;5;125m}[38;5;24m on port [38;5;125m${[38;5;31mport[38;5;125m}`[38;5;236m);[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m      } [38;5;125melse[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mconsole[38;5;125m.[38;5;31mlog[38;5;236m([38;5;125m`[38;5;24mNo process found on port [38;5;125m${[38;5;31mport[38;5;125m}`[38;5;236m);[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m      }[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m    }[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m  } [38;5;125mcatch[38;5;236m ([38;5;31merr[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m    [38;5;31mconsole[38;5;125m.[38;5;31merror[38;5;236m([38;5;125m`[38;5;24mFailed to kill port [38;5;125m${[38;5;31mport[38;5;125m}[38;5;24m:[38;5;125m`[38;5;236m, [38;5;31merr[38;5;125m.[38;5;16mmessage[38;5;236m);[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m  }[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m}[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194m[0K[0m

[38;5;125mlet[38;5;236m [38;5;31mcurrentId[38;5;236m [38;5;125m=[38;5;236m [38;5;31mrandomId[38;5;236m()[0m


[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m61[0m:[38;5;236m [38;5;125mconst[38;5;236m [38;5;31mwatcher[38;5;236m [38;5;125m=[38;5;236m [38;5;31mchokidar[38;5;125m.[38;5;31mwatch[38;5;236m([[38;5;24m'static'[38;5;236m], { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[38;5;236m  [38;5;24musePolling[38;5;31m:[38;5;236m [38;5;31mfalse[38;5;236m,[0m
[38;5;236m})[0m

[48;5;194m[0K[0m
[38;5;125mfunction[38;5;236m [38;5;97mrunCommand[38;5;236m([38;5;16mcommand[38;5;236m) {[0m
[48;5;224m  exec(command, (error, stdout, stderr) => {[0m[48;5;224m[0K[0m
[48;5;224m    console.log(`[48;5;217merror[48;5;224m: ${[48;5;217merror[48;5;224m}`)[0m[48;5;224m[0K[0m
[48;5;224m    console.log(`[48;5;217mstderr[48;5;224m: ${[48;5;217mstderr[48;5;224m}`)[0m[48;5;224m[0K[0m
[48;5;224m    console.log(`[48;5;217mstdout[48;5;224m: ${[48;5;217mstdout[48;5;224m}`)[0m[48;5;224m[0K[0m
[48;5;224m  }[48;5;217m)[0m[48;5;224m[0K[0m
[48;5;194;38;5;236m  [38;5;125mtry[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m    [38;5;125mconst[38;5;236m [38;5;31moutput[38;5;236m [38;5;125m=[38;5;236m [38;5;31mexecSync[38;5;236m([38;5;31mcommand[38;5;236m, { [38;5;24mstdio[38;5;31m:[38;5;236m [38;5;24m'pipe'[38;5;236m })[38;5;125m.[38;5;31mtoString[38;5;236m();[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m    [38;5;31mconsole[38;5;125m.[38;5;31mlog[38;5;236m([38;5;125m`[48;5;157;38;5;24mstdout[48;5;194m: [38;5;125m${[48;5;157;38;5;31moutput[48;5;194;38;5;125m}`[38;5;236m)[48;5;157m;[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m  } [38;5;125mcatch[38;5;236m ([38;5;31merror[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m    [38;5;31mconsole[38;5;125m.[38;5;31mlog[38;5;236m([38;5;125m`[48;5;157;38;5;24merror[48;5;194m: [38;5;125m${[48;5;157;38;5;31merror[48;5;194;38;5;125m}`[38;5;236m)[48;5;157m;[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m    [48;5;157;38;5;125mif[38;5;236m ([38;5;31merror[38;5;125m.[38;5;16mstderr[38;5;236m) [48;5;194;38;5;31mconsole[38;5;125m.[38;5;31mlog[38;5;236m([38;5;125m`[48;5;157;38;5;24mstderr[48;5;194m: [38;5;125m${[48;5;157;38;5;31merror[38;5;125m.[38;5;16mstderr[38;5;125m.[38;5;31mtoString[38;5;236m()[48;5;194;38;5;125m}`[38;5;236m)[48;5;157m;[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m  }[0m[48;5;194m[0K[0m
[38;5;236m}[0m



[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m81[0m:[38;5;236m [38;5;31mwatcher[38;5;125m.[38;5;31mon[38;5;236m([38;5;24m'all'[38;5;236m, ([38;5;16me[38;5;236m, [38;5;16mpath[38;5;236m) [38;5;125m=>[38;5;236m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[38;5;236m    [38;5;31mrunCommand[38;5;236m([38;5;24m'node build_tools/export_aseprite.js '[38;5;236m [38;5;125m+[38;5;236m [38;5;31mpath[38;5;236m)[0m
[38;5;236m  }[0m

[48;5;194;38;5;236m        [38;5;31mkillPort[38;5;236m([38;5;31m8082[38;5;236m)[0m[48;5;194m[0K[0m
[38;5;236m  [38;5;31mrunCommand[38;5;236m([38;5;24m'node build_tools/generate_dist.js'[38;5;236m)[0m
[48;5;194;38;5;236m        [38;5;31mrunCommand[38;5;236m([38;5;24m'node socket_server/start_socket_servers.js'[38;5;236m)[0m[48;5;194m[0K[0m

[38;5;236m  [38;5;125mif[38;5;236m ([38;5;31midTimeout[38;5;236m) [38;5;31mclearTimeout[38;5;236m([38;5;31midTimeout[38;5;236m)[0m
[38;5;236m  [38;5;31midTimeout[38;5;236m [38;5;125m=[38;5;236m [38;5;31msetTimeout[38;5;236m(() [38;5;125m=>[38;5;236m {[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m92[0m:[38;5;236m [38;5;31mwatcher[38;5;125m.[38;5;31mon[38;5;236m([38;5;24m'all'[38;5;236m, ([38;5;16me[38;5;236m, [38;5;16mpath[38;5;236m) [38;5;125m=>[38;5;236m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[38;5;236m  }, [38;5;31m500[38;5;236m)[0m
[38;5;236m})[0m

[48;5;194m[0K[0m
[48;5;194;38;5;246m// runCommand("Get-Process -Id (Get-NetTCPConnection -LocalPort 5000).OwningProcess | Stop-Process -Force")[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mkillPort[38;5;236m([38;5;31m8082[38;5;236m)[0m[48;5;194m[0K[0m
[38;5;31mrunCommand[38;5;236m([38;5;24m'node build_tools/export_aseprite.js'[38;5;236m)[0m
[38;5;31mrunCommand[38;5;236m([38;5;24m'node build_tools/generate_dist.js'[38;5;236m)[0m
[48;5;194;38;5;31mrunCommand[38;5;236m([38;5;24m'node socket_server/start_socket_servers.js'[38;5;236m)[0m[48;5;194m[0K[0m
