
[34mÎ” .eslintrc.json[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m223[0m: [34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[38;5;236m        [38;5;24m"Thread"[38;5;236m: [38;5;24m"readonly"[38;5;236m,[0m
[38;5;236m        [38;5;24m"Train"[38;5;236m: [38;5;24m"readonly"[38;5;236m,[0m
[38;5;236m        [38;5;24m"Velocity"[38;5;236m: [38;5;24m"readonly"[38;5;236m,[0m
[48;5;194;38;5;236m        [38;5;24m"VideoCall"[38;5;236m: [38;5;24m"readonly"[38;5;236m,[0m[48;5;194m[0K[0m
[38;5;236m        [38;5;24m"VoidDialogue"[38;5;236m: [38;5;24m"readonly"[38;5;236m,[0m
[38;5;236m        [38;5;24m"Water"[38;5;236m: [38;5;24m"readonly"[38;5;236m,[0m
[38;5;236m        [38;5;24m"World"[38;5;236m: [38;5;24m"readonly"[38;5;236m,[0m

[34madded: socket_server/rtc_video_call.js[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m1[0m: [34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[48;5;194;38;5;125mconst[38;5;236m [38;5;31mSocketServer[38;5;236m [38;5;125m=[38;5;236m [38;5;31mrequire[38;5;236m([38;5;24m'./SocketServer'[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;125mconst[38;5;236m [38;5;31mserver[38;5;236m [38;5;125m=[38;5;236m [38;5;125mnew[38;5;236m [38;5;31mSocketServer[38;5;236m([38;5;31m8082[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;31mserver[38;5;125m.[38;5;97monConnection[38;5;236m [38;5;125m=[38;5;236m ([38;5;16mclient[38;5;236m, [38;5;16mclientId[38;5;236m) [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mserver[38;5;125m.[38;5;31msendToClient[38;5;236m([38;5;31mclient[38;5;236m, {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24maction[38;5;31m:[38;5;236m [38;5;24m'RTC_CLIENT_INFO'[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24mclientId[38;5;31m:[38;5;236m [38;5;31mclientId[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        })[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;125mfor[38;5;236m ([38;5;125mlet[38;5;236m [38;5;31mi[38;5;236m [38;5;125m=[38;5;236m [38;5;31m0[38;5;236m; [38;5;31mi[38;5;236m [38;5;125m<[38;5;236m [38;5;31mserver[38;5;125m.[38;5;16mallClientIds[38;5;125m.[38;5;16mlength[38;5;236m; [38;5;31mi[38;5;125m++[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;125mconst[38;5;236m [38;5;31mid[38;5;236m [38;5;125m=[38;5;236m [38;5;31mserver[38;5;125m.[38;5;16mallClientIds[38;5;236m[[38;5;31mi[38;5;236m][0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;125mif[38;5;236m ([38;5;31mid[38;5;236m [38;5;125m==[38;5;236m [38;5;31mclientId[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;125mcontinue[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                }[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;31mserver[38;5;125m.[38;5;31msendToClient[38;5;236m([38;5;31mserver[38;5;125m.[38;5;16mclientFrom[38;5;236m[[38;5;31mid[38;5;236m], {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;24maction[38;5;31m:[38;5;236m [38;5;24m'RTC_CLIENT_CONNECTED'[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;24mclientId[38;5;31m:[38;5;236m [38;5;31mclientId[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                })[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;125mbreak[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        }[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m}[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;31mserver[38;5;125m.[38;5;97monClose[38;5;236m [38;5;125m=[38;5;236m ([38;5;16mclient[38;5;236m, [38;5;16mclientId[38;5;236m) [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mserver[38;5;125m.[38;5;31msendToOthers[38;5;236m([38;5;31mclient[38;5;236m, {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24maction[38;5;31m:[38;5;236m [38;5;24m'RTC_CLIENT_DISCONNECTED'[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24mclientId[38;5;31m:[38;5;236m [38;5;31mclientId[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m}[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;31mserver[38;5;125m.[38;5;31mon[38;5;236m([38;5;24m'RTC_CLIENT_CONNECTED'[38;5;236m, ([38;5;16mclient[38;5;236m, [38;5;16mclientId[38;5;236m, [38;5;16mdata[38;5;236m) [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mserver[38;5;125m.[38;5;31msendToClient[38;5;236m([38;5;31mserver[38;5;125m.[38;5;16mclientFrom[38;5;236m[[38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m], {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24maction[38;5;31m:[38;5;236m [38;5;24m'RTC_CLIENT_CONNECTED'[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24mclientId[38;5;31m:[38;5;236m [38;5;31mclientId[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        })[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;125mfor[38;5;236m ([38;5;125mlet[38;5;236m [38;5;31mi[38;5;236m [38;5;125m=[38;5;236m [38;5;31m0[38;5;236m; [38;5;31mi[38;5;236m [38;5;125m<[38;5;236m [38;5;31mserver[38;5;125m.[38;5;16mallClientIds[38;5;125m.[38;5;16mlength[38;5;236m; [38;5;31mi[38;5;125m++[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;125mconst[38;5;236m [38;5;31mid[38;5;236m [38;5;125m=[38;5;236m [38;5;31mserver[38;5;125m.[38;5;16mallClientIds[38;5;236m[[38;5;31mi[38;5;236m][0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;125mlet[38;5;236m [38;5;31mskipId[38;5;236m [38;5;125m=[38;5;236m [38;5;31mfalse[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;125mfor[38;5;236m ([38;5;125mlet[38;5;236m [38;5;31mj[38;5;236m [38;5;125m=[38;5;236m [38;5;31m0[38;5;236m; [38;5;31mj[38;5;236m [38;5;125m<[38;5;236m [38;5;31mdata[38;5;125m.[38;5;16mconnectedClientId[38;5;125m.[38;5;16mlength[38;5;236m; [38;5;31mj[38;5;125m++[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;125mconst[38;5;236m [38;5;31mcid[38;5;236m [38;5;125m=[38;5;236m [38;5;31mdata[38;5;125m.[38;5;16mconnectedClientId[38;5;236m[[38;5;31mj[38;5;236m][0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;125mif[38;5;236m ([38;5;31mcid[38;5;236m [38;5;125m==[38;5;236m [38;5;31mid[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;31mskipId[38;5;236m [38;5;125m=[38;5;236m [38;5;31mtrue[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;125mbreak[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        }[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                }[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;125mif[38;5;236m ([38;5;31mid[38;5;236m [38;5;125m==[38;5;236m [38;5;31mclientId[38;5;236m [38;5;125m||[38;5;236m [38;5;31mid[38;5;236m [38;5;125m==[38;5;236m [38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m [38;5;125m||[38;5;236m [38;5;31mskipId[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;125mcontinue[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                }[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;31mserver[38;5;125m.[38;5;31msendToClient[38;5;236m([38;5;31mclient[38;5;236m, {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;24maction[38;5;31m:[38;5;236m [38;5;24m'RTC_CLIENT_CONNECTED'[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;24mclientId[38;5;31m:[38;5;236m [38;5;31mid[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                })[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;125mbreak[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        }[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m})[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;31mserver[38;5;125m.[38;5;31mon[38;5;236m([38;5;24m'RTC_ICE_CANDIDATE'[38;5;236m, ([38;5;16mclient[38;5;236m, [38;5;16mclientId[38;5;236m, [38;5;16mdata[38;5;236m) [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mserver[38;5;125m.[38;5;31msendToClient[38;5;236m([38;5;31mserver[38;5;125m.[38;5;16mclientFrom[38;5;236m[[38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m], {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24maction[38;5;31m:[38;5;236m [38;5;24m'RTC_ICE_CANDIDATE'[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24mcandidate[38;5;31m:[38;5;236m [38;5;31mdata[38;5;125m.[38;5;16mcandidate[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24mclientId[38;5;31m:[38;5;236m [38;5;31mdata[38;5;125m.[38;5;16mclientId[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m})[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;31mserver[38;5;125m.[38;5;31mon[38;5;236m([38;5;24m'RTC_OFFER'[38;5;236m, ([38;5;16mclient[38;5;236m, [38;5;16mclientId[38;5;236m, [38;5;16mdata[38;5;236m) [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mserver[38;5;125m.[38;5;31msendToClient[38;5;236m([38;5;31mserver[38;5;125m.[38;5;16mclientFrom[38;5;236m[[38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m], {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24maction[38;5;31m:[38;5;236m [38;5;24m'RTC_OFFER'[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24moffer[38;5;31m:[38;5;236m [38;5;31mdata[38;5;125m.[38;5;16moffer[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24mclientId[38;5;31m:[38;5;236m [38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24mfromClientId[38;5;31m:[38;5;236m [38;5;31mclientId[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m})[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;31mserver[38;5;125m.[38;5;31mon[38;5;236m([38;5;24m'RTC_ANSWER'[38;5;236m, ([38;5;16mclient[38;5;236m, [38;5;16mclientId[38;5;236m, [38;5;16mdata[38;5;236m) [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mserver[38;5;125m.[38;5;31msendToClient[38;5;236m([38;5;31mserver[38;5;125m.[38;5;16mclientFrom[38;5;236m[[38;5;31mdata[38;5;125m.[38;5;16mfromClientId[38;5;236m], {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24maction[38;5;31m:[38;5;236m [38;5;24m'RTC_ANSWER'[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24manswer[38;5;31m:[38;5;236m [38;5;31mdata[38;5;125m.[38;5;16manswer[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24mclientId[38;5;31m:[38;5;236m [38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24mfromClientId[38;5;31m:[38;5;236m [38;5;31mdata[38;5;125m.[38;5;16mfromClientId[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m})[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;31mserver[38;5;125m.[38;5;31mon[38;5;236m([38;5;24m'RTC_HANGUP'[38;5;236m, ([38;5;16mclient[38;5;236m, [38;5;16mclientId[38;5;236m, [38;5;16mdata[38;5;236m) [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mserver[38;5;125m.[38;5;31msendToOthers[38;5;236m([38;5;31mclient[38;5;236m, {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24maction[38;5;31m:[38;5;236m [38;5;24m'RTC_HANGUP'[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;24mclientId[38;5;31m:[38;5;236m [38;5;31mdata[38;5;125m.[38;5;16mclientId[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m})[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;31mserver[38;5;125m.[38;5;31mstart[38;5;236m()[0m[48;5;194m[0K[0m

[34mÎ” socket_server/start_socket_servers.js[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m1[0m: [34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[38;5;31mrequire[38;5;236m([38;5;24m'./player_socket_server'[38;5;236m)[0m
[38;5;31mrequire[38;5;236m([38;5;24m'./game_objects_socket_server'[38;5;236m)[0m
[48;5;194;38;5;31mrequire[38;5;236m([38;5;24m'./rtc_video_call'[38;5;236m)[0m[48;5;194m[0K[0m
\ No newline at end of file[m

[34madded: static/engine/communication/VideoCall.js[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m1[0m: [34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[48;5;194;38;5;125mexport[38;5;236m [38;5;125mclass[38;5;236m VideoCall {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;97mconstructor[38;5;236m() {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;166mthis[38;5;125m.[38;5;16mlocalStream[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;166mthis[38;5;125m.[38;5;16mclientId[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;166mthis[38;5;125m.[38;5;16mfromClientId[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;166mthis[38;5;125m.[38;5;16mpeerConnection[38;5;236m [38;5;125m=[38;5;236m {}[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;166mthis[38;5;125m.[38;5;31mstartCall[38;5;236m()[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;166mthis[38;5;125m.[38;5;16mconnectedClientId[38;5;236m [38;5;125m=[38;5;236m [][0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;166mthis[38;5;125m.[38;5;16msocketClient[38;5;236m [38;5;125m=[38;5;236m [38;5;125mnew[38;5;236m [38;5;31mSocketClient[38;5;236m([38;5;31m8082[38;5;236m, [38;5;16mc[38;5;236m [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;31mc[38;5;125m.[38;5;31mon[38;5;236m([38;5;24m'RTC_CLIENT_INFO'[38;5;236m, [38;5;16mdata[38;5;236m [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;166mthis[38;5;125m.[38;5;16mclientId[38;5;236m [38;5;125m=[38;5;236m [38;5;31mdata[38;5;125m.[38;5;16mclientId[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        })[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;31mc[38;5;125m.[38;5;31mon[38;5;236m([38;5;24m'RTC_CLIENT_CONNECTED'[38;5;236m, [38;5;16mdata[38;5;236m [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;125mfor[38;5;236m ([38;5;125mlet[38;5;236m [38;5;31mi[38;5;236m [38;5;125m=[38;5;236m [38;5;31m0[38;5;236m; [38;5;31mi[38;5;236m [38;5;125m<[38;5;236m [38;5;166mthis[38;5;125m.[38;5;16mconnectedClientId[38;5;125m.[38;5;16mlength[38;5;236m; [38;5;31mi[38;5;125m++[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;125mconst[38;5;236m [38;5;31mid[38;5;236m [38;5;125m=[38;5;236m [38;5;166mthis[38;5;125m.[38;5;16mconnectedClientId[38;5;236m[[38;5;31mi[38;5;236m][0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;125mif[38;5;236m ([38;5;31mid[38;5;236m [38;5;125m==[38;5;236m [38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                [38;5;31mconsole[38;5;125m.[38;5;31mwarn[38;5;236m([38;5;24m'found'[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                [38;5;125mreturn[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        }[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                }[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;125mif[38;5;236m ([38;5;166mthis[38;5;125m.[38;5;16mclientId[38;5;236m [38;5;125m==[38;5;236m [38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;125mreturn[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                }[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;166mthis[38;5;125m.[38;5;16mconnectedClientId[38;5;125m.[38;5;31mpush[38;5;236m([38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;125mconst[38;5;236m [38;5;31mcheckForConnection[38;5;236m [38;5;125m=[38;5;236m [38;5;31msetInterval[38;5;236m(() [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;125mif[38;5;236m ([38;5;166mthis[38;5;125m.[38;5;16mlocalStream[38;5;236m [38;5;125m!=[38;5;236m [38;5;31mundefined[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                [38;5;31mclearInterval[38;5;236m([38;5;31mcheckForConnection[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        }[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;31mconsole[38;5;125m.[38;5;31mwarn[38;5;236m([38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;125m+[38;5;24m' connected'[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;125mconst[38;5;236m [38;5;31mpeerConnection[38;5;236m [38;5;125m=[38;5;236m [38;5;166mthis[38;5;125m.[38;5;31mcreatePeerConnection[38;5;236m([38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;166mthis[38;5;125m.[38;5;16mpeerConnection[38;5;236m[[38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m] [38;5;125m=[38;5;236m [38;5;31mpeerConnection[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;166mthis[38;5;125m.[38;5;16mlocalStream[38;5;125m.[38;5;31mgetTracks[38;5;236m()[38;5;125m.[38;5;31mforEach[38;5;236m([38;5;16mtrack[38;5;236m [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                [38;5;31mpeerConnection[38;5;125m.[38;5;31maddTrack[38;5;236m([38;5;31mtrack[38;5;236m, [38;5;166mthis[38;5;125m.[38;5;16mlocalStream[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        })[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;31mpeerConnection[38;5;125m.[38;5;31mcreateOffer[38;5;236m()[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                [38;5;125m.[38;5;31mthen[38;5;236m([38;5;16moffer[38;5;236m [38;5;125m=>[38;5;236m [38;5;31mpeerConnection[38;5;125m.[38;5;31msetLocalDescription[38;5;236m([38;5;31moffer[38;5;236m))[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                [38;5;125m.[38;5;31mthen[38;5;236m(() [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                        [38;5;31mconsole[38;5;125m.[38;5;31mwarn[38;5;236m([38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m [38;5;125m+[38;5;236m [38;5;24m' offer send'[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                        [38;5;166mthis[38;5;125m.[38;5;16msocketClient[38;5;125m.[38;5;31msend[38;5;236m({[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                                [38;5;24maction[38;5;31m:[38;5;236m [38;5;24m'RTC_OFFER'[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                                [38;5;24moffer[38;5;31m:[38;5;236m [38;5;31mpeerConnection[38;5;125m.[38;5;16mlocalDescription[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                                [38;5;24mclientId[38;5;31m:[38;5;236m [38;5;31mdata[38;5;125m.[38;5;16mclientId[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                        })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                }, [38;5;31m1000[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        })[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;31mc[38;5;125m.[38;5;31mon[38;5;236m([38;5;24m'RTC_OFFER'[38;5;236m, [38;5;16mdata[38;5;236m [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;31mconsole[38;5;125m.[38;5;31mwarn[38;5;236m([38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m [38;5;125m+[38;5;236m [38;5;24m' offer recived'[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;166mthis[38;5;125m.[38;5;16mfromClientId[38;5;236m [38;5;125m=[38;5;236m [38;5;31mdata[38;5;125m.[38;5;16mfromClientId[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;31mconsole[38;5;125m.[38;5;31mwarn[38;5;236m([38;5;24m'from '[38;5;125m+[38;5;166mthis[38;5;125m.[38;5;16mfromClientId[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;125mconst[38;5;236m [38;5;31mpeerConnection[38;5;236m [38;5;125m=[38;5;236m [38;5;166mthis[38;5;125m.[38;5;31mcreatePeerConnection[38;5;236m([38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;125mif[38;5;236m ([38;5;125m![38;5;31mpeerConnection[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;31mstartCall[38;5;236m()[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;31mconsole[38;5;125m.[38;5;31mwarn[38;5;236m([38;5;24m'Star'[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                }[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;166mthis[38;5;125m.[38;5;16mpeerConnection[38;5;236m[[38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m] [38;5;125m=[38;5;236m [38;5;31mpeerConnection[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;31mpeerConnection[38;5;125m.[38;5;31msetRemoteDescription[38;5;236m([38;5;125mnew[38;5;236m [38;5;31mRTCSessionDescription[38;5;236m([38;5;31mdata[38;5;125m.[38;5;16moffer[38;5;236m))[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;125m.[38;5;31mthen[38;5;236m(() [38;5;125m=>[38;5;236m [38;5;31mpeerConnection[38;5;125m.[38;5;31mcreateAnswer[38;5;236m())[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;125m.[38;5;31mthen[38;5;236m([38;5;16manswer[38;5;236m [38;5;125m=>[38;5;236m [38;5;31mpeerConnection[38;5;125m.[38;5;31msetLocalDescription[38;5;236m([38;5;31manswer[38;5;236m))[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;125m.[38;5;31mthen[38;5;236m(() [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                [38;5;31mconsole[38;5;125m.[38;5;31mwarn[38;5;236m([38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;125m+[38;5;24m' answer send'[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                [38;5;166mthis[38;5;125m.[38;5;16msocketClient[38;5;125m.[38;5;31msend[38;5;236m({[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                        [38;5;24maction[38;5;31m:[38;5;236m [38;5;24m'RTC_ANSWER'[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                        [38;5;24manswer[38;5;31m:[38;5;236m [38;5;31mpeerConnection[38;5;125m.[38;5;16mlocalDescription[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                        [38;5;24mclientId[38;5;31m:[38;5;236m [38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                        [38;5;24mfromClientId[38;5;31m:[38;5;236m [38;5;166mthis[38;5;125m.[38;5;16mfromClientId[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;125m.[38;5;31mcatch[38;5;236m([38;5;16merror[38;5;236m [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                [38;5;31mconsole[38;5;125m.[38;5;31merror[38;5;236m([38;5;24m'Error handling offer'[38;5;236m, [38;5;31merror[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        })[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;31mc[38;5;125m.[38;5;31mon[38;5;236m([38;5;24m'RTC_ANSWER'[38;5;236m, [38;5;16mdata[38;5;236m [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;31mconsole[38;5;125m.[38;5;31mwarn[38;5;236m([38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;125m+[38;5;24m' answer recived from '[38;5;125m+[38;5;31mdata[38;5;125m.[38;5;16mfromClientId[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;31mconsole[38;5;125m.[38;5;31mwarn[38;5;236m([38;5;31mdata[38;5;125m.[38;5;16manswer[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;166mthis[38;5;125m.[38;5;16msocketClient[38;5;125m.[38;5;31msend[38;5;236m({[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;24maction[38;5;31m:[38;5;236m [38;5;24m'RTC_CLIENT_CONNECTED'[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;24mclientId[38;5;31m:[38;5;236m [38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;24mconnectedClientId[38;5;31m:[38;5;236m [38;5;166mthis[38;5;125m.[38;5;16mconnectedClientId[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;125mconst[38;5;236m [38;5;31mpeerConnection[38;5;236m [38;5;125m=[38;5;236m [38;5;166mthis[38;5;125m.[38;5;16mpeerConnection[38;5;236m[[38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m][0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;31mpeerConnection[38;5;125m.[38;5;31msetRemoteDescription[38;5;236m([38;5;125mnew[38;5;236m [38;5;31mRTCSessionDescription[38;5;236m([38;5;31mdata[38;5;125m.[38;5;16manswer[38;5;236m))[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;125m.[38;5;31mcatch[38;5;236m(([38;5;16merror[38;5;236m) [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                [38;5;31mconsole[38;5;125m.[38;5;31merror[38;5;236m([38;5;24m'Error setting remote description from answer'[38;5;236m, [38;5;31merror[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        })[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;31mc[38;5;125m.[38;5;31mon[38;5;236m([38;5;24m'RTC_ICE_CANDIDATE'[38;5;236m, [38;5;16mdata[38;5;236m [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;31mconsole[38;5;125m.[38;5;31mwarn[38;5;236m([38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;125m+[38;5;24m' recives icecandinate'[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;125mconst[38;5;236m [38;5;31mpeerConnection[38;5;236m [38;5;125m=[38;5;236m [38;5;166mthis[38;5;125m.[38;5;16mpeerConnection[38;5;236m[[38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m][0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;125mif[38;5;236m ([38;5;31mpeerConnection[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;31mpeerConnection[38;5;125m.[38;5;31maddIceCandidate[38;5;236m([38;5;125mnew[38;5;236m [38;5;31mRTCIceCandidate[38;5;236m([38;5;31mdata[38;5;125m.[38;5;16mcandidate[38;5;236m))[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                          [38;5;125m.[38;5;31mcatch[38;5;236m([38;5;16merror[38;5;236m [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                                        [38;5;31mconsole[38;5;125m.[38;5;31merror[38;5;236m([38;5;24m'Error adding received ICE candidate:'[38;5;236m, [38;5;31merror[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                          })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                  }[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        })[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;31mc[38;5;125m.[38;5;31mon[38;5;236m([38;5;24m'RTC_CLIENT_DISCONNECTED'[38;5;236m, [38;5;16mdata[38;5;236m [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;31mconsole[38;5;125m.[38;5;31mwarn[38;5;236m([38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;125m+[38;5;24m' disconnected'[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;125mconst[38;5;236m [38;5;31mvideoElement[38;5;236m [38;5;125m=[38;5;236m [38;5;31mdocument[38;5;125m.[38;5;31mgetElementById[38;5;236m([38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;125mif[38;5;236m ([38;5;31mvideoElement[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                  [38;5;31mvideoElement[38;5;125m.[38;5;31mremove[38;5;236m()[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                }[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;125mconst[38;5;236m [38;5;31mpeerConnection[38;5;236m [38;5;125m=[38;5;236m [38;5;166mthis[38;5;125m.[38;5;16mpeerConnection[38;5;236m[[38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m][0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;125mif[38;5;236m ([38;5;31mpeerConnection[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                  [38;5;31mpeerConnection[38;5;125m.[38;5;31mclose[38;5;236m()[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                  [38;5;125mdelete[38;5;236m [38;5;166mthis[38;5;125m.[38;5;16mpeerConnection[38;5;236m[[38;5;31mdata[38;5;125m.[38;5;16mclientId[38;5;236m][0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                }[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        }[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;97mcreatePeerConnection[38;5;236m([38;5;16mpeerId[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;125mconst[38;5;236m [38;5;31mpeerConnection[38;5;236m [38;5;125m=[38;5;236m [38;5;125mnew[38;5;236m [38;5;31mRTCPeerConnection[38;5;236m({[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;24miceServers[38;5;31m:[38;5;236m [{ [38;5;24murls[38;5;31m:[38;5;236m [38;5;24m'stun:stun.l.google.com:19302'[38;5;236m }][0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                })[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;31mpeerConnection[38;5;125m.[38;5;97montrack[38;5;236m [38;5;125m=[38;5;236m [38;5;16me[38;5;236m [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;31mconsole[38;5;125m.[38;5;31mwarn[38;5;236m([38;5;166mthis[38;5;125m.[38;5;16mclientId[38;5;236m [38;5;125m+[38;5;24m' '[38;5;125m+[38;5;236m [38;5;166mthis[38;5;125m.[38;5;16mfromClientId[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;125mlet[38;5;236m [38;5;31mremoteVideo[38;5;236m [38;5;125m=[38;5;236m [38;5;31mdocument[38;5;125m.[38;5;31mgetElementById[38;5;236m([38;5;166mthis[38;5;125m.[38;5;16mfromClientId[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;125mif[38;5;236m ([38;5;125m![38;5;31mremoteVideo[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;31mremoteVideo[38;5;236m [38;5;125m=[38;5;236m [38;5;31mdocument[38;5;125m.[38;5;31mcreateElement[38;5;236m([38;5;24m'video'[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;31mremoteVideo[38;5;125m.[38;5;16mid[38;5;236m [38;5;125m=[38;5;236m [38;5;166mthis[38;5;125m.[38;5;16mfromClientId[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;31mremoteVideo[38;5;125m.[38;5;16mautoplay[38;5;236m [38;5;125m=[38;5;236m [38;5;31mtrue[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;31mdocument[38;5;125m.[38;5;31mgetElementById[38;5;236m([38;5;24m'videocallrtc'[38;5;236m)[38;5;125m.[38;5;31mappendChild[38;5;236m([38;5;31mremoteVideo[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        }[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;31mremoteVideo[38;5;125m.[38;5;16msrcObject[38;5;236m [38;5;125m=[38;5;236m [38;5;31me[38;5;125m.[38;5;16mstreams[38;5;236m[[38;5;31m0[38;5;236m][0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                }[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;31mpeerConnection[38;5;125m.[38;5;97monicecandidate[38;5;236m [38;5;125m=[38;5;236m [38;5;16me[38;5;236m [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;125mif[38;5;236m ([38;5;31me[38;5;125m.[38;5;16mcandidate[38;5;236m) {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;166mthis[38;5;125m.[38;5;16msocketClient[38;5;125m.[38;5;31msend[38;5;236m({[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;24maction[38;5;31m:[38;5;236m [38;5;24m'RTC_ICE_CANDIDATE'[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;24mcandidate[38;5;31m:[38;5;236m [38;5;31me[38;5;125m.[38;5;16mcandidate[38;5;236m,[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                        [38;5;24mclientId[38;5;31m:[38;5;236m [38;5;31mpeerId[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        }[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                }[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;125mreturn[38;5;236m [38;5;31mpeerConnection[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        }[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;97mstartCall[38;5;236m() {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                [38;5;31mnavigator[38;5;125m.[38;5;16mmediaDevices[38;5;125m.[38;5;31mgetUserMedia[38;5;236m({ [38;5;24mvideo[38;5;31m:[38;5;236m [38;5;31mtrue[38;5;236m, [38;5;24maudio[38;5;31m:[38;5;236m [38;5;31mtrue[38;5;236m })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;125m.[38;5;31mthen[38;5;236m([38;5;16mstream[38;5;236m [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;125mconst[38;5;236m [38;5;31mlocalVideo[38;5;236m [38;5;125m=[38;5;236m [38;5;31mdocument[38;5;125m.[38;5;31mcreateElement[38;5;236m([38;5;24m'VIDEO'[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;31mlocalVideo[38;5;125m.[38;5;16mautoplay[38;5;236m [38;5;125m=[38;5;236m [38;5;31mtrue[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;31mlocalVideo[38;5;125m.[38;5;16mmuted[38;5;236m [38;5;125m=[38;5;236m [38;5;31mtrue[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;31mlocalVideo[38;5;125m.[38;5;16msrcObject[38;5;236m [38;5;125m=[38;5;236m [38;5;31mstream[0m[48;5;194m[0K[0m
[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;31mdocument[38;5;125m.[38;5;31mgetElementById[38;5;236m([38;5;24m'videocallrtc'[38;5;236m)[38;5;125m.[38;5;31mappendChild[38;5;236m([38;5;31mlocalVideo[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;166mthis[38;5;125m.[38;5;16mlocalStream[38;5;236m [38;5;125m=[38;5;236m [38;5;31mstream[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        [38;5;125m.[38;5;31mcatch[38;5;236m(([38;5;16merror[38;5;236m) [38;5;125m=>[38;5;236m {[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                                [38;5;31mconsole[38;5;125m.[38;5;31merror[38;5;236m([38;5;24m'Error starting call'[38;5;236m, [38;5;31merror[38;5;236m)[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m                        })[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        }[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m}[0m[48;5;194m[0K[0m

[34mÎ” static/engine/core/index.js[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m18[0m:[38;5;236m [38;5;31mErrorHandler[38;5;125m.[38;5;31mrun[38;5;236m(() [38;5;125m=>[38;5;236m { [0m[34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[38;5;236m        [38;5;31mlevel[38;5;125m.[38;5;31mchange[38;5;236m([38;5;125mnew[38;5;236m [38;5;31mWorldEditor[38;5;236m([38;5;31mcamera[38;5;236m, [38;5;31mmouse[38;5;236m))[0m

[38;5;236m        [38;5;125mconst[38;5;236m [38;5;31moverlay[38;5;236m [38;5;125m=[38;5;236m [38;5;125mnew[38;5;236m [38;5;31mOverlay[38;5;236m([38;5;31mcamera[38;5;236m)[0m
[48;5;224m[0K[0m
[48;5;194;38;5;236m        [38;5;125mnew[38;5;236m [38;5;31mVideoCall[38;5;236m()[0m[48;5;194m[0K[0m
[38;5;236m        [38;5;31mLoop[38;5;125m.[38;5;31meveryFrame[38;5;236m(([38;5;16mdeltaTime[38;5;236m) [38;5;125m=>[38;5;236m {[0m
[38;5;236m                [38;5;31mErrorHandler[38;5;125m.[38;5;31mrun[38;5;236m(() [38;5;125m=>[38;5;236m {[0m
[38;5;236m                        [38;5;31mPalette[38;5;125m.[38;5;31mclear[38;5;236m([[38;5;31mcamera[38;5;125m.[38;5;16mpalette[38;5;236m, [38;5;31mguiPalette[38;5;236m])[0m

[34mÎ” static/gui/css/overlay.css[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m52[0m: [34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[38;5;236m    [38;5;246m/* background: indianred; */[0m
[38;5;236m    [38;5;71mmargin: 10px 0;[0m
[38;5;71m}[0m
[48;5;194m[0K[0m
[48;5;194;38;5;71m#[38;5;97mvideocallrtc[38;5;236m{[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mposition[38;5;236m: [38;5;31mabsolute[38;5;236m;[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mz-index[38;5;236m: [38;5;31m10[38;5;236m;[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mwidth[38;5;236m: [38;5;31m100[38;5;125mpx[38;5;236m;[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mheight[38;5;236m: [38;5;31m100[38;5;125mpx[38;5;236m;[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mdisplay[38;5;236m: [38;5;31mflex[38;5;236m;[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m        [38;5;31mflex-direction[38;5;236m: [38;5;31mrow[38;5;236m;[0m[48;5;194m[0K[0m
[48;5;194;38;5;236m}[0m[48;5;194m[0K[0m
\ No newline at end of file[m

[34mÎ” static/index.html[0m
[34mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m

[34mâ”€â”€â”€â”€â”€â”€[0m[34mâ”[0m
[34mâ€¢[0m [34m22[0m: [34mâ”‚[0m
[34mâ”€â”€â”€â”€â”€â”€[0m[34mâ”˜[0m
[38;5;236m                [38;5;16m</[38;5;71mdiv[38;5;16m>[0m

[38;5;236m                [38;5;16m<[38;5;71mdiv[38;5;236m [38;5;97mid[38;5;236m=[38;5;24m"overlay"[38;5;16m>[38;5;236mOVERLAY[38;5;16m</[38;5;71mdiv[38;5;16m>[0m
[48;5;224m[0K[0m
[48;5;194;38;5;236m                [38;5;16m<[38;5;71mdiv[38;5;236m [38;5;97mid[38;5;236m=[38;5;24m"videocallrtc"[38;5;16m></[38;5;71mdiv[38;5;16m>[0m[48;5;194m[0K[0m
[38;5;236m                [38;5;16m<[38;5;71mdiv[38;5;236m [38;5;97mid[38;5;236m=[38;5;24m"errorOverlay"[38;5;16m>[0m
[38;5;236m                        [38;5;16m<[38;5;71mdiv[38;5;236m [38;5;97mid[38;5;236m=[38;5;24m"errorMessage"[38;5;16m></[38;5;71mdiv[38;5;16m>[0m
[38;5;236m                        [38;5;16m<[38;5;71mdiv[38;5;236m [38;5;97mid[38;5;236m=[38;5;24m"stackMessage"[38;5;16m></[38;5;71mdiv[38;5;16m>[0m
