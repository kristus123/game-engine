import{AssertNotNull}from"/static/engine/assertions/AssertNotNull.js";import{List}from"/static/engine/code_tools/misc/List.js";import{Picture}from"/static/engine/code_tools/misc/Picture.js";import{ForcePush}from"/static/engine/core/physics/ForcePush.js";import{Push}from"/static/engine/core/physics/Push.js";import{Square}from"/static/engine/graphics/Square.js";import{Sprite}from"/static/engine/graphics/sprite/Sprite.js";import{BottomText}from"/static/engine/graphics/ui/BottomText.js";import{DeliveryZone}from"/static/engine/mechanics/DeliveryZone.js";import{Dialogue}from"/static/engine/mechanics/dialogue/Dialogue.js";import{MultiTextTyper}from"/static/engine/mechanics/dialogue/MultiTextTyper.js";import{Text}from"/static/engine/mechanics/dialogue/Text.js";import{TextTyper}from"/static/engine/mechanics/dialogue/TextTyper.js";import{Quest}from"/static/engine/mechanics/quest/Quest.js";import{QuestList}from"/static/engine/mechanics/quest/QuestList.js";import{DynamicGameObject}from"/static/engine/objects/DynamicGameObject.js";import{LocalObjects}from"/static/engine/objects/LocalObjects.js";import{Position}from"/static/engine/position/Position.js";import{D}from"/static/game/world/D.js";import{Enemy}from"/static/game/world/Enemy.js";import{Init}from"/static/game/world/Init.js";import{Update}from"/static/game/world/Update.js";export class TalkToShopKeeper{constructor(e){AssertNotNull(e,"argument player in "+this.constructor.name+".js should not be null"),this.player=e;const t=new Square(new Position(-500,0),200),i=new Picture(t.position,"/static/assets/shopkeeper.png");t.draw=(e,t)=>{i.draw(e,t)};const s=new DynamicGameObject(new Position(-400,0,100,300),10,10),o=new Sprite(s.position.offset(0,0,300,250),"/static/assets/woman_32x32.png",[{x:0,y:0},{x:1,y:0},{x:2,y:0},{x:3,y:0},{x:4,y:0}]);s.draw=(e,t)=>{o.draw(e,t)},this.localObjects=new LocalObjects([t,s,new Quest([()=>new class{constructor(){this.localObjects=new LocalObjects([Init(this,{enemies:new LocalObjects([new Enemy(e.position.offset(100).copy()),new Enemy(e.position.offset(128).copy())]),deliveryZone:new DeliveryZone(new Position(1188,-292,100,100),[s])}),new Dialogue([new MultiTextTyper(e.position.over(),["I trust ."]),new MultiTextTyper(s.position.over(),["I ."])]),new Sword(e,this.enemies.objects),new PushEnemies(e,this.enemies.objects),Update(()=>{s.within(100,e)||ForcePush(s).towards(e.position.center,4)})])}completed(){return this.deliveryZone.completed()}update(){this.localObjects.update()}draw(e,t){this.localObjects.draw(e,t)}}])])}update(){this.localObjects.update()}draw(e,t){this.localObjects.draw(e,t)}}