import{G}from"/static/engine/G.js";import{ListLooper}from"/static/engine/code_tools/ListLooper.js";import{List}from"/static/engine/code_tools/misc/List.js";import{Controller}from"/static/engine/controller/Controller.js";import{ForcePush}from"/static/engine/core/physics/ForcePush.js";import{Move}from"/static/engine/core/physics/Move.js";import{Push}from"/static/engine/core/physics/Push.js";import{Html}from"/static/engine/graphics/ui/html/Html.js";import{LocalObjects}from"/static/engine/objects/LocalObjects.js";import{Registry}from"/static/engine/objects/Registry.js";import{Worker}from"/static/game/enemies/Worker.js";export class DeliverBoxQuest{constructor(){this.localObjects=new LocalObjects([new ListLooper(Registry.ChickenBox,(o,e,r)=>{G.storeWorker.touches(o)?G.player.pickUpBox.holding?Move(G.storeWorker).towards(G.player):o.touches(G.store)||(Move(G.storeWorker).towards(G.store),o.position.xy(G.storeWorker)):Move(G.storeWorker).towards(o),G.storeWorker.touches(G.player)&&(ForcePush(G.player).awayFrom(G.store,7),Controller.disable(200),G.player.pickUpBox.drop()),o.touches(G.store)&&(Html.fadeaway("box delivered",G.storeWorker),e())})])}update(){this.localObjects.update()}draw(o,e){this.localObjects.draw(o,e)}}