import{AssertNotNull}from"/static/engine/assertions/AssertNotNull.js";import{Iterate}from"/static/engine/code_tools/Iterate.js";import{List}from"/static/engine/code_tools/misc/List.js";import{Random}from"/static/engine/code_tools/misc/Random.js";import{Loop}from"/static/engine/core/Loop.js";import{Square}from"/static/engine/graphics/Square.js";export class Rices{constructor(t,s){AssertNotNull(t,"argument player in "+this.constructor.name+".js should not be null"),AssertNotNull(s,"argument onFinish in "+this.constructor.name+".js should not be null"),this.player=t,this.onFinish=s,this.rices=Iterate(2e3,()=>new Square(Random.direction(this.player.position.offset(700,0),500),1)),this.ricePickedUp=0}update(){for(const t of this.rices)this.player.touches(t)&&(this.ricePickedUp+=1,List.remove(this.rices,t));this.ricePickedUp>=5&&(this.rices=[],this.onFinish(),this.removeFromLoop())}draw(t,s){for(const i of this.rices)i.draw(t,s)}}