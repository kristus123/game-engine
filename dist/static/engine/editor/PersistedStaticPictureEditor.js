import{AssertNotNull}from"/static/engine/assertions/AssertNotNull.js";import{Picture}from"/static/engine/code_tools/misc/Picture.js";import{PersistedObjectsEditor}from"/static/engine/editor/PersistedObjectsEditor.js";import{LocalObjects}from"/static/engine/objects/LocalObjects.js";import{PersistedObjects}from"/static/engine/persistence/PersistedObjects.js";import{Position}from"/static/engine/position/Position.js";export class PersistedPictureEditor{constructor(t,s,e=180,o=100){AssertNotNull(t,"argument imagePath in "+this.constructor.name+".js should not be null"),AssertNotNull(s,"argument storagePath in "+this.constructor.name+".js should not be null"),AssertNotNull(e,"argument width in "+this.constructor.name+".js should not be null"),AssertNotNull(o,"argument height in "+this.constructor.name+".js should not be null"),this.imagePath=t,this.storagePath=s,this.width=e,this.height=o,this.localObjects=new LocalObjects([new PersistedObjectsEditor(s,s=>new Picture(s.offset(0,0,e,o).copy(),t),s=>{const e=new Picture(Position.from(s.position),t);return e.objectId=s.objectId,e})])}update(){this.localObjects.update()}draw(t,s){this.localObjects.draw(t,s)}}