import{AssertNotNull}from"/static/engine/assertions/AssertNotNull.js";import{Random}from"/static/engine/code_tools/misc/Random.js";import{Worker}from"/static/game/enemies/Worker.js";export class Thread{constructor(t){AssertNotNull(t,"argument logic in "+this.constructor.name+".js should not be null"),this.logic=t;const s=`\n\t\t\t${Random.toString()}\n\n\t\t\tonmessage = (e) => {\n\t\t\t\tconst result = (${t.toString()})(e.data)\n\t\t\t\tpostMessage(result)\n\t\t\t}\n\t\t`,e=new Blob([s],{type:"application/javascript"});this.worker=new Worker(URL.createObjectURL(e))}run(t="na",s){this.worker.postMessage(t),this.worker.onmessage=t=>{s(t.data)}}}