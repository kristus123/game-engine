import{AssertNotNull}from"/static/engine/assertions/AssertNotNull.js";import{ChickenSprites}from"/static/engine/chicken_stuff/ChickenSprites.js";import{DeadChicken}from"/static/engine/chicken_stuff/DeadChicken.js";import{Distance}from"/static/engine/code_tools/misc/Distance.js";import{Random}from"/static/engine/code_tools/misc/Random.js";import{OnTrue}from"/static/engine/code_tools/on/OnTrue.js";import{Loop}from"/static/engine/core/Loop.js";import{ForcePush}from"/static/engine/core/physics/ForcePush.js";import{Push}from"/static/engine/core/physics/Push.js";import{Audio}from"/static/engine/mechanics/audio/Audio.js";import{DynamicGameObject}from"/static/engine/objects/DynamicGameObject.js";import{LocalObjects}from"/static/engine/objects/LocalObjects.js";import{Registry}from"/static/engine/objects/Registry.js";import{Position}from"/static/engine/position/Position.js";import{D}from"/static/game/world/D.js";import{Init}from"/static/game/world/Init.js";import{Update}from"/static/game/world/Update.js";export class Chicken extends DynamicGameObject{constructor(t){super(t,100,1e3),AssertNotNull(t,"argument position in "+this.constructor.name+".js should not be null"),this.position=t,this.position.width=60,this.position.height=60;const i=new Position(0,0,100,100);this.touches(i)||(this.x=i.center.x,this.y=i.center.y),this.randomPositionInsideZone=Random.direction(i.center,200),this.localObjects=new LocalObjects([Update(()=>{const t=this.touchesAny(Registry.Chicken);t?this.enforceDistance(t):ForcePush(this).towards(this.randomPositionInsideZone,.1)}),new OnTrue(()=>this.touches(this.randomPositionInsideZone),()=>{this.randomPositionInsideZone=Random.positionWithin(i.center)}),new OnTrue(()=>this.touchesAny(Registry.ChickenFood),t=>{t.removeFromLoop()}),D((t,i)=>{t.orange(this.randomPositionInsideZone)})]),setTimeout(()=>{this.kill()},1e3)}kill(){}update(){this.localObjects.update()}draw(t,i){this.localObjects.draw(t,i)}static mapFromJsonObject(t){const i=new this(new Position(t.position.x,t.position.y,t.position.width,t.position.height));return i.objectId=t.objectId,i}mapToJson(){return{className:this.constructor.name,objectId:this.objectId,position:{x:this.x,y:this.y,width:this.width,height:this.height}}}}