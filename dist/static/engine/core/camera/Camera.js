import{a}from"/static/engine/code_tools/a.js";import{SmoothPosition}from"/static/engine/code_tools/smooth/SmoothPosition.js";import{SmoothValue}from"/static/engine/code_tools/smooth/SmoothValue.js";import{Mouse}from"/static/engine/controller/Mouse.js";import{Palette}from"/static/engine/core/Palette.js";import{Anchor}from"/static/engine/core/camera/Anchor.js";import{LowLevelCamera}from"/static/engine/core/camera/LowLevelCamera.js";import{DynamicGameObject}from"/static/engine/objects/DynamicGameObject.js";import{LocalObjects}from"/static/engine/objects/LocalObjects.js";import{Position}from"/static/engine/position/Position.js";import{Positions}from"/static/engine/position/Positions.js";import{D}from"/static/game/world/D.js";export class Camera{static initialize(){this.offset={x:Palette.width/2,y:Palette.height/2},this.palette=Palette.offscreen(()=>{this.offset={x:Palette.width/2,y:Palette.height/2}}),this.objectToFollow=new DynamicGameObject(new Position(0,0,1,1),1,1),this.position=new Position(0,0),this.smoothPosition=new SmoothPosition(this.position,.01),this.smoothZoom=new SmoothValue(1,1,.5,5),Mouse.scrollIn=()=>{this.smoothZoom.targetValue+=1,this.zoom.currentValue},Mouse.scrollOut=()=>{this.smoothZoom.targetValue-=1,this.zoom.currentValue},this.anchoredPositions=new LocalObjects([])}static get zoom(){return this.smoothZoom.currentValue}static set zoom(o){this.smoothZoom.targetValue=o}static context(o){this.smoothZoom.update(),this.smoothPosition.update(this.objectToFollow),this.position.x=this.smoothPosition.position.x,this.position.y=this.smoothPosition.position.y,this.anchoredPositions.update(),LowLevelCamera.context(this,o)}static follow(o){this.objectToFollow=o}static goTo(o){this.objectToFollow.x=o.x,this.objectToFollow.y=o.y}static followInstantly(o){this.objectToFollow=o,this.position.x=o.position.x,this.position.y=o.position.y}static p(o){return new Position(o.x-this.position.x+o.width+Palette.width/2,o.y-this.position.y+o.height+Palette.height/2)}}