import{AssertNotNull}from"/static/engine/assertions/AssertNotNull.js";import{List}from"/static/engine/code_tools/misc/List.js";export class Quest{constructor(t=[],s=()=>{}){AssertNotNull(t,"argument tasks in "+this.constructor.name+".js should not be null"),AssertNotNull(s,"argument onQuestCompleted in "+this.constructor.name+".js should not be null"),this.tasks=t,this.onQuestCompleted=s,this.index=0,this.currentTask=t[this.index](),this.questCompleted=!1}update(){this.questCompleted||(this.currentTask.update&&this.currentTask.update(),this.currentTask.completed&&this.currentTask.completed()&&(this.index+=1,List.validIndex(this.tasks,this.index)?this.currentTask=this.tasks[this.index]():(this.questCompleted=!0,this.onQuestCompleted())))}draw(t,s){!this.questCompleted&&this.currentTask.draw&&this.currentTask.draw(t,s)}}