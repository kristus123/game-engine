import{AssertNotNull}from"/static/engine/assertions/AssertNotNull.js";import{ForcePush}from"/static/engine/core/physics/ForcePush.js";import{Push}from"/static/engine/core/physics/Push.js";import{Square}from"/static/engine/graphics/Square.js";import{LocalObjects}from"/static/engine/objects/LocalObjects.js";import{Registry}from"/static/engine/objects/Registry.js";import{Init}from"/static/game/world/Init.js";export class StraightPath{constructor(t,s){AssertNotNull(t,"argument start in "+this.constructor.name+".js should not be null"),AssertNotNull(s,"argument end in "+this.constructor.name+".js should not be null"),this.start=t,this.end=s,this.localObjects=new LocalObjects([Init(this,{line:new Square(t.position.copy(),20)})]),this.blocked=!0,this.finishedChecking=!1}get clear(){return!this.blocked}update(){ForcePush(this.line).towards(this.end,300),this.line.touchesAny(Registry.invisibleWalls)&&(this.blocked=!0,this.line.x=this.start.x,this.line.y=this.start.y),this.line.touches(this.end)&&(this.blocked=!1,this.line.x=this.start.x,this.line.y=this.start.y),this.localObjects.update()}draw(t,s){this.localObjects.draw(t,s),t.line(this.line,this.end)}}