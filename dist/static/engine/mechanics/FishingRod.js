import{AssertNotNull}from"/static/engine/assertions/AssertNotNull.js";import{Mouse}from"/static/engine/controller/Mouse.js";import{Noise}from"/static/engine/graphics/Noise.js";import{Position}from"/static/engine/position/Position.js";export class FishingRod{constructor(i){AssertNotNull(i,"argument player in "+this.constructor.name+".js should not be null"),this.player=i,this.noise=new Noise(new Position(-1e3,-500,1e3,1e3),20),this.fishingRod=null,Mouse.addOnClick("throw fishing rod",i=>{this.fishingRod=i,this.countdown=100}),this.countdown=100,this.amount=0}draw(i,t){this.noise.draw(i,t),i.text(this.player.position.offset(-180,-20),this.amount+" fishes caught"),this.fishingRod&&(i.line(this.player,this.fishingRod),i.new_circle(this.fishingRod),this.noise.red(this.fishingRod)?(i.text(this.fishingRod.offset(-120,-20),this.countdown),this.countdown-=1,this.countdown<=0?(i.text(this.fishingRod.offset(-120,-20),"PULL IN (right click)"),Mouse.rightDown&&(this.countdown=100,this.amount+=1,this.fishingRod=null)):Mouse.rightDown&&(this.countdown=100,this.fishingRod=null)):(i.text(this.fishingRod.offset(-180,-20),"Patience"),this.countdown=100))}}