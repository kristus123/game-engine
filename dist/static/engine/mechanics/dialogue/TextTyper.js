import{AssertNotNull}from"/static/engine/assertions/AssertNotNull.js";import{OnTrue}from"/static/engine/code_tools/on/OnTrue.js";import{LocalObjects}from"/static/engine/objects/LocalObjects.js";export class TextTyper{constructor(t,e,s=4){AssertNotNull(t,"argument position in "+this.constructor.name+".js should not be null"),AssertNotNull(e,"argument textToType in "+this.constructor.name+".js should not be null"),AssertNotNull(s,"argument framesPerLetter in "+this.constructor.name+".js should not be null"),this.position=t,this.textToType=e,this.framesPerLetter=s,this.currentIndex=-1,this.isTyping=!0,this.ready=!1,this.frameCount=0,this.completed=()=>!1,this.textToType=this.textToType.toString(),this.localObjects=new LocalObjects([new OnTrue(()=>this.text==this.textToType,()=>{setTimeout(()=>{this.completed=()=>!0},1e3)})])}update(){this.localObjects.update(),this.currentIndex<this.textToType.length&&this.frameCount%this.framesPerLetter===0?this.currentIndex++:this.currentIndex>=this.textToType.length&&(this.isTyping=!1),this.frameCount++}get text(){return this.textToType.substring(0,this.currentIndex)}draw(t,e){t.text(this.position,this.text)}}